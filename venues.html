<!--
TODO:
conform to working doc
no submit button on mobile
make sure id duplication in hidden main sections doesn't cause problems
---
find-and-replace "report card"
add "form type" column
add spreadsheet column names, prettify spreadsheet writes if needed
address Render's "Your free instance will spin down with inactivity"
use POST (GET string will get pretty long due to textboxes)
novalidate
promoOtherChk
add "request an interview" option?
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Venue Report Card</title>
  <style>
    :root{
      --gap:1rem;
    }
    body{
      /* background: linear-gradient(180deg,#eef2ff 0%,#f7f8fb 100%); */
      font-family: 'arial';
      color: #282120;
      background-color: #ebe4da;
      margin:0; padding:2rem;
      display:flex; justify-content:center;
    }
    .container{
      width:100%; max-width:900px; background:var(--card);
      background-color: #fcf7f0;
      border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.08);
      padding:1.5rem;
    }
    h1{ margin:0 0 2rem 0; font-size:1.5rem; }
    p.lead{ margin:0 0 1.25rem 0; color:var(--muted); font-size:0.95rem; }
    fieldset{
      border:1px solid #e6e9ef; padding:1rem; border-radius:8px;
      margin-bottom:2rem; background:#fff;
    }
    legend{ font-weight:600; padding:0 0.5rem; }
    .grid{
      margin-right: 1rem;
      /* display:grid; gap:var(--gap);
      grid-template-columns: repeat(12,1fr);
      align-items:start; */
    }
    .grid > div:not(:last-child) {
      margin-bottom: 1.5rem;
    }
    label{ display:block; font-size:0.95rem; margin-bottom:0.35rem; }
    input[type="text"], input[type="email"], input[type="tel"], input[type="date"], select {
      width:33%;
      padding:0.5rem 0.6rem; border:1px solid #d1d5db; border-radius:6px;
      background:transparent; font-size:0.95rem;
    }
    textarea{
      width:100%;
      padding:0.5rem 0.6rem; border:1px solid #d1d5db; border-radius:6px;
      background:transparent; font-size:0.95rem;
      min-height:75px; resize:vertical;
    }
    .col-6{ grid-column: span 6; }
    .col-4{ grid-column: span 4; }
    .col-3{ grid-column: span 3; }
    .col-12{ grid-column: span 12; }
    .muted{ color:var(--muted); font-size:0.9rem; margin-top:0.25rem; }
    .inline-row{ display:flex; gap:0.25rem; align-items:left; flex-wrap:wrap; }
    .small{ font-size:0.9rem; color:var(--muted); }
    .actions{ display:flex; gap:0.75rem; margin-top:0.5rem; }
    button{ padding:0.6rem 0.85rem; border-radius:8px; border:0; cursor:pointer; font-weight:600; }
    button.primary{ background:var(--accent); }
    button.ghost{ background:transparent; border:1px solid #e6e9ef; }
    .radio-label{ display:inline-flex; align-items:center; gap:0.35rem; padding:0.25rem 0.4rem; border-radius:6px; cursor:pointer; }
    @media (max-width:720px){
      .col-6, .col-4, .col-3{ grid-column: span 12; }
    }
    #preflight{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.55);
      z-index:9999;
    }
    .preflight-inner{
      background:white;
      padding:1.25rem;
      border-radius:10px;
      width:min(560px,94%);
      box-shadow:0 8px 30px rgba(2,6,23,0.3);
    }
    #preflight fieldset{ border:0; margin:0.5rem 0; padding:0; }
    #preflight label{ display:inline-flex; gap:0.5rem; align-items:center; margin-right:1rem; }
    .preflight-actions{ margin-top:0.75rem; text-align:right; }
    .preflight-actions button[disabled]{ opacity:0.5; cursor:not-allowed; }
    .container{ display:none; }
  </style>
</head>
<body>
  <div id="preflight" role="dialog">
    <div class="preflight-inner">
      <h1 id="preflightTitle">Venue Report Card</h1>

      <fieldset style="margin-bottom: 1rem">
        <legend style="margin-bottom: 0.5rem">What was your role at the show?</legend>
        <label><input type="radio" name="preChoice1" value="A">Performer</label>
        <label><input type="radio" name="preChoice1" value="B">Audience member</label>
      </fieldset>

      <fieldset>
        <legend style="margin-bottom: 0.5rem">Which version of the report card would you like to complete?</legend>
        <label><input type="radio" name="preChoice2" value="A">Full (takes ~10 min)</label>
        <label><input type="radio" name="preChoice2" value="B">Abridged (takes ~1 min)</label>
      </fieldset>

      <div class="preflight-actions">
        <button id="preflightContinue" type="button" disabled>Continue</button>
      </div>
    </div>
  </div>
  <main class="container" id="container1" role="main">
    <h1 id="formTitle">Venue Report Card</h1>

    <form id="reportForm" novalidate>
      <!-- BASIC INFO -->
      <fieldset>
        <legend>Basic Info</legend>
        <div class="grid">
          <div class="col-6">
            <label for="venueName">Venue Name (required) <span class="small">*</span></label>
            <input id="venueName" name="venueName" type="text" required />
          </div>

          <div class="col-3">
            <label for="performanceDate">Date of Performance <span class="small">*</span></label>
            <input id="performanceDate" name="performanceDate" type="date" />
          </div>

          <div class="col-3">
            <label for="numActs">Who else was on the bill?</label>
            <input id="numActs" name="numActs" type="text" />
          </div>

          <div class="col-4">
            <label for="bandSize">How many members were in your band?</label>
            <input id="bandSize" name="bandSize" type="text" />
          </div>

          <div class="col-4">
            <label for="attendance">How many people attended the show? (rough estimate)</label>
            <input id="attendance" name="attendance" type="text" />
          </div>

          <div class="col-4">
            <label>Are you a touring musician passing through Chicago?</label>
            <div class="inline-row" role="radiogroup">
              <label class="radio-label"><input type="radio" name="touring" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="touring" value="no" checked /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- PAYMENT -->
      <fieldset>
        <legend>Payment</legend>
        <div class="grid">
          <div class="col-6">
            <label for="paymentAmount">How much did your group get paid? (total take-home, including tips)</label>
            <input id="paymentAmount" name="paymentAmount" type="text" />
            <!-- <div class="muted">Enter number only; cents allowed.</div> -->
          </div>

          <div class="col-12">
            <label for="paymentNotes">Anything specific you'd like to share regarding payment?</label>
            <textarea id="paymentNotes" name="paymentNotes"></textarea>
          </div>

          <div class="col-6">
            <label for="paymentStructure">What was the payment structure of the show?</label>
            <input id="paymentStructure" name="paymentStructure" type="text"></input>
          </div>

          <!-- <div class="col-6" id="paymentStructureOtherWrap" style="display:none">
            <label for="paymentStructureOther">If Other—please describe</label>
            <input id="paymentStructureOther" name="paymentStructureOther" type="text" />
          </div> -->

          <div class="col-6">
            <label>Did the venue give you a breakdown of finances after the show?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="breakdown" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="breakdown" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="breakdown" value="partial" /> Partial / unclear</label>
            </div>
          </div>

          <div class="col-6">
            <label for="ticketPrice">What was the ticket price? (if advance and DOS differed, include both)</label>
            <input id="ticketPrice" name="ticketPrice" type="text" />
          </div>

          <div class="col-6">
            <label>Were you paid on the day of the show?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="paidDay" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="paidDay" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="paidDay" value="partial" /> Partially</label>
            </div>
          </div>

          <div class="col-6">
            <label for="combinedPayout">Combined payout for all groups at this show</label>
            <input id="combinedPayout" name="combinedPayout" type="text" />
          </div>
        </div>
      </fieldset>

      <!-- MANAGEMENT & COMMUNICATION -->
      <fieldset>
        <legend>Management/Communication</legend>
        <div class="grid">
          <div class="col-6">
            <label for="managementRating">Management/Communication Rating</label>
            <select id="managementRating" name="managementRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="managementNotes">Anything specific you'd like to share?</label>
            <textarea id="managementNotes" name="managementNotes"></textarea>
          </div>

          <div class="col-4">
            <label>Was there a merch cut?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="merchCut" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="merchCut" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="merchCut" value="negotiable" /> Negotiated</label>
            </div>
          </div>

          <div class="col-4" id="merchPercentWrap" style="display:none">
            <label for="merchPercent">What percent/amount?</label>
            <input id="merchPercent" name="merchPercent" type="text" />
          </div>

          <div class="col-4">
            <label>Did the venue promote the show in any way you are aware of?</label>
            <div class="inline-row" style="flex-direction:column;">
              <label><input type="checkbox" name="promotion" value="social" /> Social media</label>
              <label><input type="checkbox" name="promotion" value="email" /> Email list</label>
              <label><input type="checkbox" name="promotion" value="flyers" /> Flyers/posters</label>
              <label><input type="checkbox" name="promotion" value="radio" /> Radio</label>
              <label><input type="checkbox" name="promotion" value="none" /> None that I saw</label>
              <label><input type="checkbox" name="promotion" value="other" id="promoOtherChk" /> Other</label>
            </div>
          </div>

          <div class="col-6">
            <label>Was there a proximity or radius clause?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="radiusClause" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="radiusClause" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="radiusClause" value="unknown" /> Unsure</label>
            </div>
          </div>

          <div class="col-6">
            <label for="howBooked">How did you book this show?</label>
            <select id="howBooked" name="howBooked">
              <option value=""> </option>
              <option value="agent">Agent</option>
              <option value="promoter">Promoter</option>
              <option value="direct">Direct w/ venue</option>
              <option value="band-booked">Booked by band</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="col-6">
            <label for="whoBooked">Who from the venue booked your show?</label>
            <input id="whoBooked" name="whoBooked" type="text" />
          </div>

          <div class="col-6">
            <label>Did the venue communicate ticket counts going into the night?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="ticketCounts" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="ticketCounts" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="ticketCounts" value="partial" /> Partial</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- SAFETY -->
      <fieldset>
        <legend>Safety/Accessibility</legend>
        <div class="grid">
          <div class="col-6">
            <label for="safetyRating">Safety Rating</label>
            <select id="safetyRating" name="safetyRating">
              <option value=""> </option>
              <option value="5">5 — Very safe</option>
              <option value="4">4 — Mostly safe</option>
              <option value="3">3 — Mixed</option>
              <option value="2">2 — Some concerns</option>
              <option value="1">1 — Unsafe</option>
            </select>
          </div>

          <div class="col-6">
            <label for="safetyNotes">Anything specific you'd like to share regarding venue safety?</label>
            <textarea id="safetyNotes" name="safetyNotes"></textarea>
          </div>

          <div class="col-4">
            <label>Was there venue security?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="security" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="security" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="security" value="partial" /> Partial / inconsistent</label>
            </div>
          </div>

          <div class="col-4">
            <label>Did you feel comfortable at this venue?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="feltComfortable" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="feltComfortable" value="no" /> No</label>
            </div>
          </div>

          <div class="col-4">
            <label>Did you experience discrimination at this venue?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="discrimination" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="discrimination" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="discrimination" value="preferNot" /> Prefer not to say</label>
            </div>
          </div>

          <div class="col-12">
            <label for="accessibilityRating">Accessibility Rating (parking, wheelchair access, masks/earplugs, nursing room, etc.)</label>
            <select id="accessibilityRating" name="accessibilityRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div>
            <label for="accessibilityNotes" style="margin-top:0.6rem; display:block;">Anything specific you'd like to share regarding accessibility?</label>
            <textarea id="accessibilityNotes" name="accessibilityNotes"></textarea>
          </div>
        </div>
      </fieldset>

      <!-- SOUND -->
      <fieldset>
        <legend>Sound</legend>
        <div class="grid">
          <div class="col-6">
            <label for="soundRating">Please rate this venue on sound (on and off stage)</label>
            <select id="soundRating" name="soundRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="soundNotes">Anything specific regarding venue sound?</label>
            <textarea id="soundNotes" name="soundNotes"></textarea>
          </div>

          <div class="col-6">
            <label for="houseGearNotes">Any notes on the condition of the house gear?</label>
            <input id="houseGearNotes" name="houseGearNotes" type="text" />
          </div>

          <div class="col-6">
            <label>Did you feel respected by your sound tech(s)?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="respectedByTech" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="respectedByTech" value="no" /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- HOSPITALITY -->
      <fieldset>
        <legend>Hospitality</legend>
        <div class="grid">
          <div class="col-6">
            <label for="hospitalityRating">How would you rate this venue's hospitality?</label>
            <select id="hospitalityRating" name="hospitalityRating">
              <option value=""> </option>
              <option value="5">5 — Excellent (food/drink/private space)</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="hospitalityNotes">Anything specific you'd like to share regarding hospitality?</label>
            <textarea id="hospitalityNotes" name="hospitalityNotes"></textarea>
          </div>

          <div class="col-4">
            <label for="drinkTickets">How many drink tickets per band member?</label>
            <input id="drinkTickets" name="drinkTickets" type="text" />
          </div>

          <div class="col-4">
            <label>Was there a green room?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="greenRoom" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="greenRoom" value="no" checked /> No</label>
            </div>
          </div>

          <div class="col-4">
            <label>Was there gear storage?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="gearStorage" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="gearStorage" value="no" checked /> No</label>
            </div>
          </div>

          <div class="col-6">
            <label>Were you given food / a meal?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="givenFood" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="givenFood" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="givenFood" value="partial" /> Partial / snacks only</label>
            </div>
          </div>

          <div class="col-6">
            <label for="compTickets">How many comp tickets / guest list spots were you given?</label>
            <input id="compTickets" name="compTickets" type="text" />
          </div>
        </div>
      </fieldset>

      <!-- OVERALL -->
      <fieldset>
        <legend>Overall</legend>
        <div class="grid">
          <div class="col-6">
            <label for="overallRating">Overall rating</label>
            <select id="overallRating" name="overallRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="overallNotes">Anything you'd like to share about your overall experience?</label>
            <input id="overallNotes" name="overallNotes" type="text" />
          </div>

          <div class="col-6">
            <label>Would you play this venue again?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="playAgain" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="playAgain" value="no" /> No</label>
              <label class="radio-label"><input type="radio" name="playAgain" value="maybe" checked /> Maybe</label>
            </div>
          </div>

          <div class="col-6">
            <label>Would you recommend this venue to another performer?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="recommend" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="recommend" value="no" /> No</label>
              <label class="radio-label"><input type="radio" name="recommend" value="maybe" checked /> Maybe</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- PERSONAL INFO (optional) -->
      <fieldset>
        <legend>Personal Info (optional)</legend>
        <div class="grid">
          <div class="col-4">
            <label for="reporterName">Your Name</label>
            <input id="reporterName" name="reporterName" type="text" />
          </div>

          <div class="col-4">
            <label for="reporterEmail">Email</label>
            <input id="reporterEmail" name="reporterEmail" type="email" />
          </div>

          <div class="col-4">
            <label for="reporterPhone">Phone</label>
            <input id="reporterPhone" name="reporterPhone" type="tel" />
          </div>

          <div class="col-12">
            <label>Can we reach out with more questions?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="canContact" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="canContact" value="no" checked /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <div class="actions">
        <button type="submit" class="ghost" formaction="https://venue-report-card.onrender.com/submit-report">Submit Report</button>
        <button type="reset" class="ghost">Reset</button>
      </div>
    </form>
  </main>

  <main class="container" id="container2" role="main">
    <h1 id="formTitle">Venue Report Card</h1>

    <form id="reportForm" novalidate>
      <!-- BASIC INFO -->
      <fieldset>
        <legend>Basic Info</legend>
        <div class="grid">
          <div class="col-6">
            <label for="venueName">Venue Name (required) <span class="small">*</span></label>
            <input id="venueName" name="venueName" type="text" required />
          </div>

          <div class="col-3">
            <label for="numActs">Who else was on the bill?</label>
            <input id="numActs" name="numActs" type="text" />
          </div>

          <div class="col-4">
            <label for="attendance">How many people attended the show? (rough estimate)</label>
            <input id="attendance" name="attendance" type="text" />
          </div>

        </div>
      </fieldset>

      <!-- PAYMENT -->
      <fieldset>
        <legend>Payment</legend>
        <div class="grid">
          <div class="col-6">
            <label for="paymentAmount">How much did your group get paid? (total take-home, including tips)</label>
            <input id="paymentAmount" name="paymentAmount" type="text" />
            <!-- <div class="muted">Enter number only; cents allowed.</div> -->
          </div>

          <div class="col-6">
            <label for="paymentStructure">What was the payment structure of the show?</label>
            <input id="paymentStructure" name="paymentStructure" type="text"></input>
          </div>

          <div class="col-6">
            <label for="combinedPayout">Combined payout for all groups at this show</label>
            <input id="combinedPayout" name="combinedPayout" type="text" />
          </div>
        </div>
      </fieldset>

      <!-- PERSONAL INFO (optional) -->
      <fieldset>
        <legend>Personal Info (optional)</legend>
        <div class="grid">
          <div class="col-4">
            <label for="reporterName">Your Name</label>
            <input id="reporterName" name="reporterName" type="text" />
          </div>

          <div class="col-4">
            <label for="reporterEmail">Email</label>
            <input id="reporterEmail" name="reporterEmail" type="email" />
          </div>

          <div class="col-4">
            <label for="reporterPhone">Phone</label>
            <input id="reporterPhone" name="reporterPhone" type="tel" />
          </div>

          <div class="col-12">
            <label>Can we reach out with more questions?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="canContact" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="canContact" value="no" checked /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <div class="actions">
        <button type="submit" class="ghost" formaction="https://venue-report-card.onrender.com/submit-report">Submit Report</button>
        <button type="reset" class="ghost">Reset</button>
      </div>
    </form>
  </main>

  <main class="container" id="container3" role="main">
    <h1 id="formTitle">Venue Report Card</h1>

    <form id="reportForm" novalidate>
      <!-- BASIC INFO -->
      <fieldset>
        <legend>Basic Info</legend>
        <div class="grid">
          <div class="col-6">
            <label for="venueName">Venue Name (required) <span class="small">*</span></label>
            <input id="venueName" name="venueName" type="text" required />
          </div>

          <div class="col-3">
            <label for="numActs">Who was on the bill?</label>
            <input id="numActs" name="numActs" type="text" />
          </div>

          <div class="col-6">
            <label for="ticketPrice">What was the ticket price?</label>
            <input id="ticketPrice" name="ticketPrice" type="text" />
          </div>

        </div>
      </fieldset>

      <!-- SAFETY -->
      <fieldset>
        <legend>Safety/Accessibility</legend>
        <div class="grid">
          <div class="col-6">
            <label for="safetyRating">Safety Rating</label>
            <select id="safetyRating" name="safetyRating">
              <option value=""> </option>
              <option value="5">5 — Very safe</option>
              <option value="4">4 — Mostly safe</option>
              <option value="3">3 — Mixed</option>
              <option value="2">2 — Some concerns</option>
              <option value="1">1 — Unsafe</option>
            </select>
          </div>

          <div class="col-6">
            <label for="safetyNotes">Anything specific you'd like to share regarding venue safety?</label>
            <textarea id="safetyNotes" name="safetyNotes"></textarea>
          </div>

          <div class="col-4">
            <label>Was there venue security?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="security" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="security" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="security" value="partial" /> Partial / inconsistent</label>
            </div>
          </div>

          <div class="col-4">
            <label>Did you feel comfortable at this venue?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="feltComfortable" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="feltComfortable" value="no" /> No</label>
            </div>
          </div>

          <div class="col-4">
            <label>Did you experience discrimination at this venue?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="discrimination" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="discrimination" value="no" checked /> No</label>
              <label class="radio-label"><input type="radio" name="discrimination" value="preferNot" /> Prefer not to say</label>
            </div>
          </div>

          <div class="col-12">
            <label for="accessibilityRating">Accessibility Rating (parking, wheelchair access, masks/earplugs, nursing room, etc.)</label>
            <select id="accessibilityRating" name="accessibilityRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div>
            <label for="accessibilityNotes" style="margin-top:0.6rem; display:block;">Anything specific you'd like to share regarding accessibility?</label>
            <textarea id="accessibilityNotes" name="accessibilityNotes"></textarea>
          </div>
        </div>
      </fieldset>

      <!-- OVERALL -->
      <fieldset>
        <legend>Overall</legend>
        <div class="grid">
          <div class="col-6">
            <label for="overallRating">Rate your overall show experience</label>
            <select id="overallRating" name="overallRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="overallNotes">Tell us about your experience at the show. Feel free to describe any standout moments, whether positive or negative.</label>
            <textarea id="overallNotes" name="overallNotes"></textarea>
          </div>

          <div class="col-6">
            <label>Would you attend a show at this venue again?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="playAgain" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="playAgain" value="no" /> No</label>
              <label class="radio-label"><input type="radio" name="playAgain" value="maybe" checked /> Maybe</label>
            </div>
          </div>

          <div class="col-6">
            <label>Would you recommend this venue to another showgoer?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="recommend" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="recommend" value="no" /> No</label>
              <label class="radio-label"><input type="radio" name="recommend" value="maybe" checked /> Maybe</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- PERSONAL INFO (optional) -->
      <fieldset>
        <legend>Personal Info (optional)</legend>
        <div class="grid">
          <div class="col-4">
            <label for="reporterName">Your Name</label>
            <input id="reporterName" name="reporterName" type="text" />
          </div>

          <div class="col-4">
            <label for="reporterEmail">Email</label>
            <input id="reporterEmail" name="reporterEmail" type="email" />
          </div>

          <div class="col-4">
            <label for="reporterPhone">Phone</label>
            <input id="reporterPhone" name="reporterPhone" type="tel" />
          </div>

          <div class="col-12">
            <label>Can we reach out with more questions?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="canContact" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="canContact" value="no" checked /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <div class="actions">
        <button type="submit" class="ghost" formaction="https://venue-report-card.onrender.com/submit-report">Submit Report</button>
        <button type="reset" class="ghost">Reset</button>
      </div>
    </form>
  </main>

  <main class="container" id="container4" role="main">
    <h1 id="formTitle">Venue Report Card</h1>

    <form id="reportForm" novalidate>
      <!-- BASIC INFO -->
      <fieldset>
        <legend>Basic Info</legend>
        <div class="grid">
          <div class="col-6">
            <label for="venueName">Venue Name (required) <span class="small">*</span></label>
            <input id="venueName" name="venueName" type="text" required />
          </div>

          <div class="col-3">
            <label for="numActs">Who was on the bill?</label>
            <input id="numActs" name="numActs" type="text" />
          </div>

          <div class="col-6">
            <label for="ticketPrice">What was the ticket price?</label>
            <input id="ticketPrice" name="ticketPrice" type="text" />
          </div>

        </div>
      </fieldset>

      <!-- OVERALL -->
      <fieldset>
        <legend>Show Experience</legend>
        <div class="grid">
          <div class="col-6">
            <label for="overallRating">Rate your overall show experience</label>
            <select id="overallRating" name="overallRating">
              <option value=""> </option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Very poor</option>
            </select>
          </div>

          <div class="col-6">
            <label for="overallNotes">Tell us about your experience at the show. Feel free to describe any standout moments, whether positive or negative.</label>
            <textarea id="overallNotes" name="overallNotes"></textarea>
          </div>
      </fieldset>

      <!-- PERSONAL INFO (optional) -->
      <fieldset>
        <legend>Personal Info (optional)</legend>
        <div class="grid">
          <div class="col-4">
            <label for="reporterName">Your Name</label>
            <input id="reporterName" name="reporterName" type="text" />
          </div>

          <div class="col-4">
            <label for="reporterEmail">Email</label>
            <input id="reporterEmail" name="reporterEmail" type="email" />
          </div>

          <div class="col-4">
            <label for="reporterPhone">Phone</label>
            <input id="reporterPhone" name="reporterPhone" type="tel" />
          </div>

          <div class="col-12">
            <label>Can we reach out with more questions?</label>
            <div class="inline-row">
              <label class="radio-label"><input type="radio" name="canContact" value="yes" /> Yes</label>
              <label class="radio-label"><input type="radio" name="canContact" value="no" checked /> No</label>
            </div>
          </div>
        </div>
      </fieldset>

      <div class="actions">
        <button type="submit" class="ghost" formaction="https://venue-report-card.onrender.com/submit-report">Submit Report</button>
        <button type="reset" class="ghost">Reset</button>
      </div>
    </form>
  </main>

  <script>
    (function(){
      // const paymentStructure = document.getElementById('paymentStructure');
      // const paymentOtherWrap = document.getElementById('paymentStructureOtherWrap');

      // function togglePaymentOther(){
      //   if(paymentStructure && paymentStructure.value === 'other'){
      //     paymentOtherWrap.style.display = '';
      //   } else {
      //     paymentOtherWrap.style.display = 'none';
      //   }
      // }
      // paymentStructure && paymentStructure.addEventListener('change', togglePaymentOther);
      // togglePaymentOther();

      const merchRadios = document.getElementsByName('merchCut');
      const merchWrap = document.getElementById('merchPercentWrap');
      const promoOtherChk = document.getElementById('promoOtherChk');

      function toggleMerchPercent(){
        let chosen = Array.from(merchRadios).find(r=>r.checked);
        if(chosen && chosen.value === 'yes'){
          merchWrap.style.display = '';
        } else {
          merchWrap.style.display = 'none';
        }
      }
      merchRadios.forEach(r=>r.addEventListener('change', toggleMerchPercent));
      toggleMerchPercent();

      promoOtherChk && promoOtherChk.addEventListener('change', function(){
        if(this.checked){
          // if you'd like a text input to appear, you can implement here.
        }
      });
    })();
    (function(){
      const preflight = document.getElementById('preflight');
      const continueBtn = document.getElementById('preflightContinue');
      const radios1 = Array.from(document.querySelectorAll('input[name="preChoice1"]'));
      const radios2 = Array.from(document.querySelectorAll('input[name="preChoice2"]'));

      function bothAnswered(){
        const a = radios1.some(r => r.checked);
        const b = radios2.some(r => r.checked);
        return a && b;
      }

      function updateState(){
        continueBtn.disabled = !bothAnswered();
      }

      radios1.concat(radios2).forEach(r => r.addEventListener('change', updateState));

      continueBtn.addEventListener('click', function(){
        if(!bothAnswered()) return;
        console.log(radios1[0].checked);
        console.log(radios2[0].checked);
        const containerId = (radios1[0].checked && radios2[0].checked) ? '#container1' : (
          radios1[0].checked ? "#container2" : (
            radios2[0].checked ? "#container3" : "#container4"));
        const mainContainer = document.querySelector(containerId);

        preflight.style.display = 'none';
        if(mainContainer) mainContainer.style.display = 'block';
      });

      // Prevent tabbing to page behind modal while preflight active
      document.addEventListener('focus', function(ev){
        if(preflight && preflight.style.display !== 'none' && !preflight.contains(ev.target)){
          ev.stopPropagation();
          preflight.querySelector('input,button').focus();
        }
      }, true);

      // init
      updateState();
    })();
  </script>
</body>
</html>